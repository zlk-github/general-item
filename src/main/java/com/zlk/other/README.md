##  云信互联短信接口API

前置条件

    1.申请账号(子账户)与密码，并充值。
    2.报备短信签名与短信模板。

云信互联短信平台账号注册地址

    u.smsyun.cc

### 1 短信发送接口

#### 1.1 请求地址

    https://u.smsyun.cc/sms-partner/access/{子账户ID}/sendsms

#### 1.2 请求方式

    POST

#### 1.3 请求头配置

    Accept:application/json;
    Content-Type:application/json;charset=utf-8; 

#### 1.4 请求参数

|  属性字段  | 类型 | 是否必填 |描述
|  ----  | ----  |----  |----  |
|  clientid  | String |是 |子账户ID  |
|  password  | String |是 |子账号MD5加密(32位小写)  |
|  mobile  | String |是 |手机号码 （国际短信号码需要加区号，国内号码不需要加区号）;多个号码英文逗号隔开，最大支持100个|
|  smstype  | String |是 |短信类型："0"：通知短信，"4"：验证码短信，"5"：营销短信  |
|  content  | String |是 |【签名】+ 短信内容，UTF-8编码， 短信内容最长500个字（包括英文字母），其中签名2-12个字（包括英文字母） |
|  sendtime  | String |是 |定时发送时间， 为空表示立即发送，定时发送格式2016-11-11 09:00:00（未生效）  |
|  extend  | String |否 |自扩展端口， 1－4位，只能为数字，可以为空(注：请先询问配置的通道是否支持自扩展端口，如果不支持，请填空)  |
|  uid  | String |否|用户透传ID，随状态报告返回，最长60位  |

参数示例：

    {
    "clientid":"子账号id",
    "password":"e10adc3949ba59abbe56e057f20f883e",// 12345678的MD5加密
    "mobile":"1761132XXXX", //或者1761132XXXX,1761132XXXX 或者0081XXXXXXXX
    "smstype":"0",
    "content":"【短信签名】你的平台登录验证码为123456，有效时间为15分钟。"
    }


#### 1.5 响应结果

|  属性字段  | 类型 | 是否必填 |描述
|  ----  | ----  |----  |----  |
|  total_fee  | Int |是 |短信发送的计费总条数 |
|  data  | 数组 |是 |每个手机号发送的详细情况  |
|  code  | String |是 |状态码（0成功），详见附录-短信发送响应状态码|
|  msg  | String |是 |短信请求响应返回中文描述 |
|  fee  | String |是 |成功发送的短信计费条数，计费规则如下：70个字一条，超出70个字时按每67字一条计费（英文按字母个数计算） |
|  mobile  | String |是 |接收短信的手机号码 |
|  sid  | String |是 |短信标识符（用于匹配状态报告），一个手机号对应一个sid  |
|  uid  | String |否|用户透传ID， 随状态报告返回  |


发送成功响应示例：

    {
        "data":[
            {
                "code":0,
                "fee":1,
                "mobile":"176113*****",
                "msg":"成功",
                "sid":"1fde0140-3119-4db5-b86d-f6aa9fb44f43",
                "uid":""
            }
        ],
        "total_fee":1
    }


### 2 短信状态报告


### 附录


短信发送响应状态码